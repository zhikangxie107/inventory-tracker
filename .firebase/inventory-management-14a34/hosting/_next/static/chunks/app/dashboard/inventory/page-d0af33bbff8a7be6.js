(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[439],{6647:function(){},6429:function(e,n,t){Promise.resolve().then(t.bind(t,3167))},3167:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return T}});var r=t(7437),l=t(7999),s=t(4149),a=t(9143),i=t(4844),c=t(2326),o=t(6548),d=t(9922),u=t(5760),x=t(7085),h=t(2265),m=t(7699),g=t(5253),p=t(6645),j=t(8884),Z=t(6351),f=t(2674),v=t(4691),b=t(253),y=t(7116),S=t(5308),C=t(8937),w=t(5786),N=t(9806),P=t(511),k=t(2305),I=t(335),z=t(1853),q=t(7622),O=t(8496),A=t(1220),E=t(9842);let R=()=>{let{selected:e,setSelected:n}=(0,O.v)();return{handleDelete:async()=>{let t=[...e];console.log(e);let r=A.I8.currentUser;if(r)for(let l of e){console.log(l),await (0,E.oe)((0,E.JU)(A.RZ,"user",r.uid,"inventory",l));let e=t.indexOf(l);e>-1&&t.splice(e,1),n(t)}}}};var _=function(e){let{numSelected:n}=e,{handleDelete:t}=R();return(0,r.jsxs)(N.Z,{sx:{pl:{sm:2},pr:{xs:1,sm:1},...n>0&&{bgcolor:e=>(0,k.Fq)(e.palette.primary.main,e.palette.action.activatedOpacity)}},children:[n>0?(0,r.jsxs)(P.Z,{sx:{flex:"1 1 100%"},color:"inherit",variant:"subtitle1",component:"div",children:[n," selected"]}):(0,r.jsx)(P.Z,{sx:{flex:"1 1 100%"},variant:"h6",id:"tableTitle",component:"div",children:"Inventory"}),n>0?(0,r.jsx)(z.Z,{title:"Delete",children:(0,r.jsx)(I.Z,{onClick:t,children:(0,r.jsx)(q.Z,{})})}):null]})},D=t(3622);function F(e,n,t){return n[t]<e[t]?-1:n[t]>e[t]?1:0}let G=[{id:"name",numeric:!1,disablePadding:!0,label:"Product"},{id:"category",numeric:!0,disablePadding:!1,label:"Category"},{id:"quantity",numeric:!0,disablePadding:!1,label:"Quantity"},{id:"price",numeric:!0,disablePadding:!1,label:"Price $"}];function B(e){let{onSelectAllClick:n,order:t,orderBy:s,numSelected:a,rowCount:i,onRequestSort:c}=e,o=e=>n=>{c(n,e)};return(0,r.jsx)(v.Z,{children:(0,r.jsxs)(y.Z,{children:[(0,r.jsx)(Z.Z,{padding:"checkbox",children:(0,r.jsx)(w.Z,{color:"primary",indeterminate:a>0&&a<i,checked:i>0&&a===i,onChange:n,inputProps:{"aria-label":"select all desserts"}})}),G.map(e=>(0,r.jsx)(Z.Z,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"normal",sortDirection:s===e.id&&t,children:(0,r.jsxs)(S.Z,{active:s===e.id,direction:s===e.id?t:"asc",onClick:o(e.id),children:[e.label,s===e.id?(0,r.jsx)(l.Z,{component:"span",sx:D.Z,children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},e.id))]})})}var J=e=>{let{items:n}=e,[t,s]=(0,h.useState)("asc"),[a,i]=(0,h.useState)("category"),{selected:c,setSelected:o}=(0,O.v)(),[d,u]=(0,h.useState)(0),[x,m]=(0,h.useState)(!1),[g,v]=(0,h.useState)(5),S=(e,n)=>{let t=c.findIndex(e=>e===n),r=[];-1===t?r=[...c,n]:0===t?r=c.slice(1):t===c.length-1?r=c.slice(0,-1):t>0&&(r=[...c.slice(0,t),...c.slice(t+1)]),o(r)},N=e=>-1!==c.indexOf(e),P=d>0?Math.max(0,(1+d)*g-n.length):0,k=(0,h.useMemo)(()=>(function(e,n){let t=e.map((e,n)=>[e,n]);return t.sort((e,t)=>{let r=n(e[0],t[0]);return 0!==r?r:e[1]-t[1]}),t.map(e=>e[0])})(n,"desc"===t?(e,n)=>F(e,n,a):(e,n)=>-F(e,n,a)).slice(d*g,d*g+g),[n,t,a,d,g]);return(0,r.jsxs)(l.Z,{className:"border rounded",children:[(0,r.jsx)(_,{numSelected:c.length}),(0,r.jsx)(f.Z,{component:C.Z,children:(0,r.jsxs)(p.Z,{className:"",children:[(0,r.jsx)(B,{numSelected:c.length,order:t,orderBy:a,onSelectAllClick:e=>{if(e.target.checked){o(n.map(e=>e.id));return}o([])},onRequestSort:(e,n)=>{s(a===n&&"asc"===t?"desc":"asc"),i(n)},rowCount:n.length}),(0,r.jsxs)(j.Z,{children:[k.map((e,n)=>{let t=N(String(e.id)),l="enhanced-table-checkbox-".concat(n);return(0,r.jsxs)(y.Z,{hover:!0,onClick:n=>S(n,String(e.id)),role:"checkbox","aria-checked":t,tabIndex:-1,selected:t,sx:{cursor:"pointer"},children:[(0,r.jsx)(Z.Z,{padding:"checkbox",children:(0,r.jsx)(w.Z,{color:"primary",checked:t,inputProps:{"aria-labelledby":l}})}),(0,r.jsx)(Z.Z,{component:"th",id:l,scope:"row",padding:"none",children:e.name}),(0,r.jsx)(Z.Z,{align:"right",children:e.category}),(0,r.jsx)(Z.Z,{align:"right",children:e.quantity}),(0,r.jsx)(Z.Z,{align:"right",children:e.price})]},e.id)}),P>0&&(0,r.jsx)(y.Z,{style:{height:(x?33:53)*P},children:(0,r.jsx)(Z.Z,{colSpan:6})})]})]})}),(0,r.jsx)(b.Z,{rowsPerPageOptions:[5,10,25],component:"div",count:n.length,rowsPerPage:g,page:d,onPageChange:(e,n)=>{u(n)},onRowsPerPageChange:e=>{v(parseInt(e.target.value,10)),u(0)}})]})},M=e=>{let{items:n}=e;return(0,r.jsx)(l.Z,{className:"border rounded",children:(0,r.jsx)(_,{numSelected:0})})},Q=t(7318),U=()=>{let[e,n]=(0,h.useState)(""),[t,s]=(0,h.useState)(""),[a,c]=(0,h.useState)(),[o,d]=(0,h.useState)(),u=async()=>{let r=A.I8.currentUser;if(""!=e&&""!=t&&r){let l=(0,E.hJ)(A.RZ,"user",r.uid,"inventory");await (0,E.ET)(l,{name:e.trim(),category:t,quantity:a,price:null==o?void 0:o.toFixed(2)}),n(""),s(""),c(0),d(0)}};return(0,r.jsxs)(l.Z,{className:"p-5 w-1/2 h-1/2 max-w-lg  bg-white border border-gray-200 rounded-lg shadow-md hover:shadow-lg ",children:[(0,r.jsx)("p",{className:"font-semibold text-3xl ",children:"Add Item"}),(0,r.jsx)(Q.Z,{}),(0,r.jsxs)(l.Z,{className:"py-4 flex flex-col justify-between h-full",children:[(0,r.jsxs)(l.Z,{className:"flex flex-col gap-4 ",children:[(0,r.jsx)(i.Z,{required:!0,label:"Name",size:"small",color:"primary",className:"w-80",value:e,onChange:e=>n(e.target.value)}),(0,r.jsx)(i.Z,{required:!0,label:"Category",size:"small",color:"primary",className:"w-80",value:t,onChange:e=>s(e.target.value)}),(0,r.jsx)(i.Z,{required:!0,label:"Quantity",size:"small",color:"primary",className:"w-80",type:"number",value:a,onChange:e=>c(e.target.value)}),(0,r.jsx)(i.Z,{required:!0,label:"Price $",size:"small",color:"primary",className:"w-80",type:"number",value:o,onChange:e=>{d(parseFloat(e.target.value))}})]}),(0,r.jsx)(l.Z,{className:"flex justify-end pb-5",children:(0,r.jsx)(I.Z,{color:"primary",size:"large",onClick:()=>{u()},children:(0,r.jsx)(g.Z,{})})})]})]})},$=t(5735),T=()=>{let[e,n]=(0,h.useState)("list"),[t,p]=(0,h.useState)(""),[j,Z]=(0,h.useState)(!1),[f,v]=(0,h.useState)([]);return(0,h.useEffect)(()=>{let e=(0,$.Aj)(A.I8,e=>{if(e){let n=(0,E.IO)((0,E.hJ)(A.RZ,"user",e.uid,"inventory")),t=(0,E.cf)(n,e=>{let n=[];e.forEach(e=>{let t={...e.data(),id:e.id};n.push(t)}),v(n)});return()=>t()}});return()=>e()},[]),(0,r.jsxs)(l.Z,{className:"w-full h-full",children:[(0,r.jsx)(l.Z,{className:"p-4 flex justify-end",children:(0,r.jsxs)(s.Z,{className:"",exclusive:!0,value:e,onChange:(e,t)=>{null!==t&&n(t)},size:"small",children:[(0,r.jsx)(a.Z,{value:"list",color:"primary",children:(0,r.jsx)(x.Z,{})}),(0,r.jsx)(a.Z,{value:"grid",color:"primary",disabled:!0,children:(0,r.jsx)(u.Z,{})})]})}),(0,r.jsxs)(l.Z,{className:"flex p-4 justify-between",children:[(0,r.jsx)(i.Z,{id:"filled-basic",label:"Find",size:"small",InputProps:{startAdornment:(0,r.jsx)(c.Z,{position:"start",children:(0,r.jsx)(m.Z,{})})},color:"primary",value:t,onChange:e=>{p(e.target.value)},className:"min-w-80"}),(0,r.jsx)(o.Z,{variant:"contained",size:"small",startIcon:(0,r.jsx)(g.Z,{}),onClick:()=>Z(!0),children:"Add Box"})]}),(0,r.jsx)(d.Z,{open:j,onClose:()=>{console.log("Closing modal"),Z(!1)},className:"flex justify-center items-center",children:(0,r.jsx)(U,{})}),(0,r.jsx)(l.Z,{className:"p-4",children:"list"==e?(0,r.jsx)(J,{items:f}):(0,r.jsx)(M,{items:f})})]})}},1220:function(e,n,t){"use strict";t.d(n,{I8:function(){return o},RZ:function(){return c}});var r=t(5236),l=t(9842),s=t(5735),a=t(9930);t.n(a)().config();let i=(0,r.ZF)({apiKey:"AIzaSyA7zuGStNI70cGeCOGYicnRt6z2Q4_O9iM",authDomain:"inventory-management-14a34.firebaseapp.com",projectId:"inventory-management-14a34",storageBucket:"inventory-management-14a34.appspot.com",messagingSenderId:"884927487025",appId:"1:884927487025:web:4fe4610272945519ad8910",measurementId:"G-61CDYZHDPL"}),c=(0,l.ad)(i),o=(0,s.v0)(i);(0,s.Fb)(o,s.a$)},8496:function(e,n,t){"use strict";t.d(n,{i:function(){return a},v:function(){return i}});var r=t(7437),l=t(2265);let s=(0,l.createContext)(void 0),a=e=>{let{children:n}=e,[t,a]=(0,l.useState)([]);return(0,r.jsx)(s.Provider,{value:{selected:t,setSelected:a},children:n})},i=()=>{let e=(0,l.useContext)(s);if(void 0===e)throw Error("useSelected must be used within a SelectedProvider");return e}}},function(e){e.O(0,[358,605,218,999,471,834,77,276,971,23,744],function(){return e(e.s=6429)}),_N_E=e.O()}]);